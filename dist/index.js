/*!
 * dolly-chart - Example project using dolly.js to navigate a fever chart
 * @version v0.0.1
 * @link https://github.com/povdocs/dolly
 * @license MIT
 */
!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";!function(){function t(t,e){return t.date-e.date}function e(t){var e=(t.date-z.date)/w;return e*q.x}function r(t){return(t[B]-z[B])*q.y+q.vPadding}function o(e,n){var r=m(e,{date:n},t);return 0>r?~r-1:r}function i(t){var e=Math.floor(t/q.x*w)+z.date;return o(f,e)}function a(t,n,o){var i,a,s=e(n),c=r(n);return t>s&&o&&(i=e(o),a=(t-s)/(i-s),c=(1-a)*c+a*r(o)),c}function s(){function t(t){return(t-p.position.x)*y+g/2}function n(t){return m-((t-p.position.y)*y+m/2)}var s,c,u,l,d,v,g=P.canvas.width,m=P.canvas.height,y=p.position.z*q.scale,w=g*y/p.position.z,x=m*y/p.position.z,b=p.position.x-w/2,M=b+w,_=p.position.y-x/2,O=_+x;for(P.fillStyle=C.bg,P.fillRect(0,0,g,m),c=i(Math.max(0,b)),u=i(M)+1,P.strokeStyle=C.grid,P.lineWidth=q.gridLine,P.beginPath(),s=Math.ceil(e(f[c])/q.gridSpacing)*q.gridSpacing;M>s;)l=t(s),P.moveTo(l,0),P.lineTo(l,m),s+=q.gridSpacing;for(s=Math.ceil(_/q.gridSpacing)*q.gridSpacing;O>s;)d=n(s),P.moveTo(0,d),P.lineTo(g,d),s+=q.gridSpacing;for(P.stroke(),P.strokeStyle=C.note,P.lineWidth=q.noteLine,P.beginPath(),j.forEach(function(r){var i=o(f,r.date),s=f[i],c=e(s),u=a(c,s,f[i+1]);c=t(c),u=n(u),P.moveTo(c,u),P.lineTo(c,m)}),P.stroke(),P.strokeStyle=C.line,P.lineWidth=q.chartLine,P.beginPath(),s=c;u>s;s++)v=f[s],l=t(e(v)),d=n(r(v)),s?P.lineTo(l,d):P.moveTo(l,d);P.stroke(),P.fillStyle=C.fill,P.lineTo(l,m*q.scale),P.lineTo(0,m*q.scale),P.fill(),P.fillStyle=C.player,P.beginPath(),P.arc(t(h.position.x),n(h.position.y),q.player*q.scale,0,2*Math.PI),P.fill(),P.restore()}function c(){function t(){var t,e,o;o=h.position.x,(E.leftKey||E.skipBackward)&&(o-=k*n,r=!0),(E.rightKey||E.skipForward)&&(o+=k*n,r=!0),!r&&O&&(o+=k*_*n,r=!0),o=Math.min(A.x,Math.max(z.x,o)),t=i(o),e=f[t],h.position.x=o,h.position.y=a(o,e,f[t+1]),L.textContent=e.date,T.textContent=y(e[B],"0,0",{thousandsDelimeter:","})}var e=Date.now(),n=Math.min(500,(Date.now()-M)/1e3),r=!1;t(),b.update(n),r=r||b.active(.001),r&&s(),M=e,requestAnimationFrame(c)}function u(){g("data/notes.tsv",function(t){function n(t,e){var n,e,r=0;s[t.id]=e||0;for(n in s)s.hasOwnProperty(n)&&(e=s[n],r=Math.max(r,e));_=1-.5*r}var i=t.responseText.trim().split("\n"),a=i.shift().split("	"),s={};j=i.map(function(t,e){return t.split("	").reduce(function(t,e,n){var r=a[n],o=parseFloat(e),i=Date.parse(e);return isNaN(o)&&(o=i>0?i:e),t[r]=o,t},Object.create(null))}),j.forEach(function(t){var n,i,a,s=o(f,t.start),c=Math.min(f.length,o(f,t.end)+1),u=1/0,l=-(1/0),h=e(f[s]),v=e(f[c-1]);for(n=s;c>n;n++)a=f[n],i=r(a),u=Math.min(u,i),l=Math.max(l,i);var g=b.prop({name:t.date,position:[(h+v)/2,0,0]});p.attract(d,g,{offset:[0,(u+l)/2,t.zoom],innerRadius:(v-h)/2,outerRadius:1.2*(v-h)/2});var m=document.createElement("div");m.style.display="none",S.appendChild(m),t.note.split("\n").forEach(function(t){var e=document.createElement("p");e.textContent=t,m.appendChild(e)}),d.on("enterattractor",function(t,e){t===g&&(m.style.display="")}),d.on("leaveattractor",function(t,e){t===g&&(m.style.display="none")})}),d.on("enterattractor",n),d.on("moveattractor",n),d.on("leaveattractor",n)})}function l(){function t(){O=!0,f.play.classList.add("hidden"),f.pause.classList.remove("hidden")}function r(){O=!1,f.play.classList.remove("hidden"),f.pause.classList.add("hidden")}function i(t){switch(t.keyCode){case 37:case 65:E.leftKey=!0,r();break;case 39:case 68:E.rightKey=!0,r()}}function a(e){switch(e.keyCode){case 37:case 65:E.leftKey=!1;break;case 39:case 68:E.rightKey=!1;break;case 32:O?r():t()}}function s(t,e,n){r(),t.classList.add("active"),E[e]=!0}function c(t,e){t.classList.remove("active"),E[e]=!1}function u(){var t,n=Math.floor(h.position.x/q.x*w)+z.date,r=o(j,n);0>r||(t=e(j[r]),h.position.x-t<.1&&(r--,t=e(j[r])),h.position.x=t)}function l(){var t=Math.floor(h.position.x/q.x*w)+z.date,n=o(j,t)+1;n<j.length&&(h.position.x=e(j[n]))}var f={pause:n(27),play:n(1),stepBackward:n(28),skipBackward:n(29),skipForward:n(30),stepForward:n(31)},p=document.getElementById("controls");Object.keys(f).forEach(function(t){var e,n=document.createElement("span");n.innerHTML=f[t],n.id=t,e=n.firstChild,e.setAttribute("width",q.iconSize),e.setAttribute("height",q.iconSize),n.addEventListener("mousedown",s.bind(null,n,t),!1),n.addEventListener("mouseup",c.bind(null,n,t),!1),n.addEventListener("mouseup",c.bind(null,n,t),!1),p.appendChild(n),f[t]=n}),f.pause.className="hidden",f.stepBackward.addEventListener("click",u,!1),f.stepForward.addEventListener("click",l,!1),f.play.addEventListener("click",t,!1),f.pause.addEventListener("click",r,!1),document.addEventListener("keydown",i,!1),document.addEventListener("keyup",a,!1)}var f,p,h,d,v=n(2),g=n(22).xhr,m=n(23),y=n(24),w=1,x=window.devicePixelRatio||1,b=new v,M=0,j=[],_=1,O=!1,E={leftKey:!1,rightKey:!1},A={},z={},P=document.getElementById("canvas").getContext("2d"),L=document.getElementById("period"),T=document.getElementById("value"),S=document.getElementById("notes"),k=40,B="immigrants",R="data/immigration.tsv",C={bg:"#333333",line:"rgb(63, 113, 190)",fill:"rgba(63, 113, 190, 0.3)",grid:"#666",text:"#ffffff",player:"#ff0000",note:"#dddddd"},q={chartLine:1,iconSize:20,scale:1*x,player:3,vPadding:10,gridLine:1,noteLine:2,gridSpacing:20,x:8,y:25e-5,z:5};P.canvas.width*=x,P.canvas.height*=x,g(R,function(n){var o=n.responseText.split("\n"),i=o.shift().split("	");i.forEach(function(t){z[t]=1/0,A[t]=-(1/0)}),f=o.map(function(t,e){return t.split("	").reduce(function(t,e,n){var r=i[n],o=parseFloat(e),a=Date.parse(e);return isNaN(o)&&a>0&&(o=a),A[r]=Math.max(A[r],o),z[r]=Math.min(z[r],o),t[r]=o,t},Object.create(null))}).sort(t);var a=f[0],s=f[f.length-1];z.x=e(a),A.x=e(s),h=b.prop({name:"player",position:[z.x,r(a),0]}),p=b.prop({name:"camera",position:[h.position.x,h.position.y,q.z],lag:.85}),d=b.prop({name:"timeline",position:[h.position.x,0,0],minBounds:[0,0,0],maxBounds:[1/0,0,0]}),p.follow(h,{offset:[0,0,q.z],radius:6}),d.follow(h,{lag:0});var v=P.canvas.width/(q.z*q.scale)/2,g=P.canvas.height/(q.z*q.scale)/2;p.minBounds.x=v,p.minBounds.y=g,p.maxBounds.x=A.x-v,p.maxBounds.y=(A[B]-z[B])*q.y-g+2*q.vPadding,u(),l(),c()})}()},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8">\n  <path d="M0 0v6l6-3-6-3z" transform="translate(1 1)" />\n</svg>'},function(t,e,n){"use strict";function r(t){function e(){return s.apply(this,t)}return"number"==typeof t?new s(t,t,t):Array.isArray(t)?(e.prototype=s.prototype,new e):t instanceof s?s.clone(t):t&&"object"==typeof t?new s(t.x||0,t.y||0,t.z||0):new s}function o(t,e){var n,r,o=t.vec,i=e.vec;for(n=0;3>n;n++)r=i[n],r&&(o[n]=o[n]/r)}function i(t){var e=t||{};this.lastUpdate=-1,this.id=l++,this.name=e.name||"prop"+this.id,this.position=r(e.position),this.minBounds=r(void 0===e.minBounds?-(1/0):e.minBounds),this.maxBounds=r(void 0===e.maxBounds?1/0:e.maxBounds),this.lag="number"!=typeof e.lag||isNaN(e.lag)?0:e.lag,this.maxSpeed="number"!=typeof e.maxSpeed||isNaN(e.maxSpeed)?1/0:e.maxSpeed,this.goal=new s,this.attractorGoal=new s,this.velocity=new s,this.lastPosition=s.clone(this.position),this.targets=[],this.attractors=[],u(this)}function a(){var t=-1,e=[],n=!1,r=this;this.update=function(o){return n?void 0:(n=!0,t++,e.forEach(function(e){e.update(o,t)}),n=!1,r)},this.prop=function(t){var n=new i(t);return e.push(n),n},this.active=function(t){var n;for(n=0;n<e.length;n++)if(e[n].active(t))return!0;return!1}}var s=n(3),c=n(6),u=n(7),l=0,f=new s,p=new s;i.prototype.follow=function(t,e){var n,o,a=this;if(Array.isArray(t))return void t.forEach(function(t){a.follow(t,e)});if(!(t instanceof i))throw new Error("Attempt to follow object that is not a Prop");return o=e&&e.weight,(void 0===o||isNaN(o)&&"number"==typeof o)&&(o=1),n=c({prop:t,radius:0,minDistance:0,maxDistance:1/0,weight:1},e,{weight:r(o),offset:r(e&&e.offset),offsetPosition:new s}),this.targets.push(n),this},i.prototype.attract=function(t,e,n){var o,a=this;if(Array.isArray(t))return void t.forEach(function(t){a.attract(t,n)});if(!(t instanceof i&&e instanceof i))throw new Error("Attempt to follow object that is not a Prop");return o=c({prop:t,subject:e,innerRadius:0,outerRadius:0,weight:1},n,{offset:r(n&&n.offset),offsetPosition:new s,attraction:0}),this.attractors.push(o),this},i.prototype.update=function(t,e){var n=this,r=0,i=0;return this.lastUpdate>=e||void 0===e||(this.lastUpdate=e,this.lastPosition.copyVector(this.position),this.emit("updatestart",this.position),!this.targets.length&&!this.attractors.length)?void 0:(this.attractorGoal.zero(),this.attractors.forEach(function(o){var a,s=0,c=o.attraction;o.prop.update(t,e),o.subject.update(t,e),a=o.prop.position.distance(o.subject.position),a<o.outerRadius?(s=Math.min(1,(o.outerRadius-a)/(o.outerRadius-o.innerRadius)),i=Math.max(i,s*o.weight),r+=o.weight,o.offsetPosition.copyVector(o.subject.position).add(o.offset),n.attractorGoal.scaleAndAdd(o.offsetPosition,o.weight),o.attraction=s,c?c!==s&&o.prop.emit("moveattractor",o.subject,s):o.prop.emit("enterattractor",o.subject,s)):o.attraction&&(o.attraction=s,o.prop.emit("leaveattractor",o.subject))}),r&&this.attractorGoal.scale(1/r),p.zero(),this.goal.zero(),1>i?(this.targets.forEach(function(r){var o;r.prop.update(t,e),r.offsetPosition.copyVector(r.prop.position).add(r.offset),f.copyVector(r.offsetPosition).subtract(n.position),r.offsetPosition.copyVector(n.position),o=f.length(),o>r.radius&&(f.normalize().scale(o-r.radius),r.offsetPosition.add(f)),r.offsetPosition.multiply(r.weight),n.goal.add(r.offsetPosition),p.add(r.weight)}),p.length()&&o(this.goal,p),i&&this.goal.lerp(this.attractorGoal,i)):this.goal.copyVector(this.attractorGoal),this.velocity.copyVector(this.goal).subtract(this.position),this.lag&&this.velocity.scale(Math.pow(t,this.lag)),this.maxSpeed&&this.maxSpeed<1/0&&this.maxSpeed<this.velocity.length()&&this.velocity.normalize().scale(this.maxSpeed),this.emit("update",this.position,this.velocity),this.position.add(this.velocity),this.position.min(this.maxBounds).max(this.minBounds),this.emit("updated",this.position),this)},i.prototype.active=function(t){return this.position.distance(this.lastPosition)>(t||1e-5)},t.exports=a},function(t,e,n){"use strict";function r(t,e,n){var r=this;this.vec=o.fromValues(t||0,e||0,n||0),Object.defineProperties(this,{x:{writeable:!0,enumerable:!0,get:function(){return r.vec[0]},set:function(t){return r.vec[0]=t}},y:{writeable:!0,enumerable:!0,get:function(){return r.vec[1]},set:function(t){return r.vec[1]=t}},z:{writeable:!0,enumerable:!0,get:function(){return r.vec[2]},set:function(t){return r.vec[2]=t}}})}var o=n(4);r.prototype.toString=function(){return o.str(this.vec)},r.prototype.clone=function(t){return new r(t.x,t.y,t.z)},r.prototype.copy=function(t){return t instanceof r?o.copy(this.vec,t.vec):"object"==typeof t&&t&&this.set(t.x||0,t.y||0,t.z||0),this},r.prototype.copyVector=function(t){return o.copy(this.vec,t.vec),this},r.prototype.zero=function(){return o.set(this.vec,0,0,0),this},r.prototype.set=function(t,e,n){return o.set(this.vec,t,e,n),this},r.prototype.negate=function(){return o.negate(this.vec,this.vec),this},r.prototype.normalize=function(){return o.normalize(this.vec,this.vec),this},r.prototype.scale=function(t){return o.scale(this.vec,this.vec,t),this},r.prototype.scaleAndAdd=function(t,e){return o.scaleAndAdd(this.vec,this.vec,t.vec,e),this},r.prototype.lerp=function(t,e){return o.lerp(this.vec,this.vec,t.vec,e),this},["add","cross","divide","max","min","multiply","subtract"].forEach(function(t){var e=o[t];r.prototype[t]=function(t){return e(this.vec,this.vec,t.vec),this}}),r.prototype.length=function(){return o.length(this.vec)},r.prototype.squaredLength=function(){return o.squaredLength(this.vec)},["distance","dot","squaredDistance"].forEach(function(t){var e=o[t];r.prototype[t]=function(t){return e(this.vec,t.vec)}}),r.fromArray=function(t){return new r.apply(null,t)},r.clone=function(t){return new r(t.x,t.y,t.z)},t.exports=r},function(t,e,n){var r={},o=n(5).GLMAT_ARRAY_TYPE,i=n(5).GLMAT_RANDOM;r.create=function(){var t=new o(3);return t[0]=0,t[1]=0,t[2]=0,t},r.clone=function(t){var e=new o(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},r.fromValues=function(t,e,n){var r=new o(3);return r[0]=t,r[1]=e,r[2]=n,r},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},r.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},r.div=r.divide,r.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},r.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},r.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},r.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.sqrt(n*n+r*r+o*o)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},r.normalize=function(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},r.cross=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],c=n[2];return t[0]=o*c-i*s,t[1]=i*a-r*c,t[2]=r*s-o*a,t},r.lerp=function(t,e,n,r){var o=e[0],i=e[1],a=e[2];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t},r.random=function(t,e){e=e||1;var n=2*i()*Math.PI,r=2*i()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t},r.transformMat4=function(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12],t[1]=n[1]*r+n[5]*o+n[9]*i+n[13],t[2]=n[2]*r+n[6]*o+n[10]*i+n[14],t},r.transformMat3=function(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t},r.transformQuat=function(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],c=n[2],u=n[3],l=u*r+s*i-c*o,f=u*o+c*r-a*i,p=u*i+a*o-s*r,h=-a*r-s*o-c*i;return t[0]=l*u+h*-a+f*-c-p*-s,t[1]=f*u+h*-s+p*-a-l*-c,t[2]=p*u+h*-c+l*-s-f*-a,t},r.rotateX=function(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},r.rotateY=function(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},r.rotateZ=function(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t},r.forEach=function(){var t=r.create();return function(e,n,r,o,i,a){var s,c;for(n||(n=3),r||(r=0),c=o?Math.min(o*n+r,e.length):e.length,s=r;c>s;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],i(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}(),r.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},t.exports=r},function(t,e){if(!n)var n=1e-6;if(!r)var r="undefined"!=typeof Float32Array?Float32Array:Array;if(!o)var o=Math.random;var i={};i.setMatrixArrayType=function(t){r=t};var a=Math.PI/180;i.toRadian=function(t){return t*a},t.exports={GLMAT_EPSILON:n,GLMAT_ARRAY_TYPE:r,GLMAT_RANDOM:o,glMatrix:i}},function(t,e){"use strict";function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function r(t){var e=Object.getOwnPropertyNames(t);return Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t))),e.filter(function(e){return o.call(t,e)})}var o=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(t,e){for(var o,i,a=n(t),s=1;s<arguments.length;s++){o=arguments[s],i=r(Object(o));for(var c=0;c<i.length;c++)a[i[c]]=o[i[c]]}return a}},function(t,e,n){"use strict";var r,o,i,a,s,c,u,l=n(8),f=n(21),p=Function.prototype.apply,h=Function.prototype.call,d=Object.create,v=Object.defineProperty,g=Object.defineProperties,m=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};r=function(t,e){var n;return f(e),m.call(this,"__ee__")?n=this.__ee__:(n=y.value=d(null),v(this,"__ee__",y),y.value=null),n[t]?"object"==typeof n[t]?n[t].push(e):n[t]=[n[t],e]:n[t]=e,this},o=function(t,e){var n,o;return f(e),o=this,r.call(this,t,n=function(){i.call(o,t,n),p.call(e,this,arguments)}),n.__eeOnceListener__=e,this},i=function(t,e){var n,r,o,i;if(f(e),!m.call(this,"__ee__"))return this;if(n=this.__ee__,!n[t])return this;if(r=n[t],"object"==typeof r)for(i=0;o=r[i];++i)(o===e||o.__eeOnceListener__===e)&&(2===r.length?n[t]=r[i?0:1]:r.splice(i,1));else(r===e||r.__eeOnceListener__===e)&&delete n[t];return this},a=function(t){var e,n,r,o,i;if(m.call(this,"__ee__")&&(o=this.__ee__[t]))if("object"==typeof o){for(n=arguments.length,i=new Array(n-1),e=1;n>e;++e)i[e-1]=arguments[e];for(o=o.slice(),e=0;r=o[e];++e)p.call(r,this,i)}else switch(arguments.length){case 1:h.call(o,this);break;case 2:h.call(o,this,arguments[1]);break;case 3:h.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),e=1;n>e;++e)i[e-1]=arguments[e];p.call(o,this,i)}},s={on:r,once:o,off:i,emit:a},c={on:l(r),once:l(o),off:l(i),emit:l(a)},u=g({},c),t.exports=e=function(t){return null==t?d(u):g(Object(t),c)},e.methods=s},function(t,e,n){"use strict";var r,o=n(9),i=n(16),a=n(17),s=n(18);r=t.exports=function(t,e){var n,r,a,c,u;return arguments.length<2||"string"!=typeof t?(c=e,e=t,t=null):c=arguments[2],null==t?(n=a=!0,r=!1):(n=s.call(t,"c"),r=s.call(t,"e"),a=s.call(t,"w")),u={value:e,configurable:n,enumerable:r,writable:a},c?o(i(c),u):u},r.gs=function(t,e,n){var r,c,u,l;return"string"!=typeof t?(u=n,n=e,e=t,t=null):u=arguments[3],null==e?e=void 0:a(e)?null==n?n=void 0:a(n)||(u=n,n=void 0):(u=e,e=n=void 0),null==t?(r=!0,c=!1):(r=s.call(t,"c"),c=s.call(t,"e")),l={get:e,set:n,configurable:r,enumerable:c},u?o(i(u),l):l}},function(t,e,n){"use strict";t.exports=n(10)()?Object.assign:n(11)},function(t,e){"use strict";t.exports=function(){var t,e=Object.assign;return"function"!=typeof e?!1:(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(12),o=n(15),i=Math.max;t.exports=function(t,e){var n,a,s,c=i(arguments.length,2);for(t=Object(o(t)),s=function(r){try{t[r]=e[r]}catch(o){n||(n=o)}},a=1;c>a;++a)e=arguments[a],r(e).forEach(s);if(void 0!==n)throw n;return t}},function(t,e,n){"use strict";t.exports=n(13)()?Object.keys:n(14)},function(t,e){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e){"use strict";var n=Object.keys;t.exports=function(t){return n(null==t?t:Object(t))}},function(t,e){"use strict";t.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}},function(t,e){"use strict";var n=Array.prototype.forEach,r=Object.create,o=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=r(null);return n.call(arguments,function(t){null!=t&&o(Object(t),e)}),e}},function(t,e){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";t.exports=n(19)()?String.prototype.contains:n(20)},function(t,e){"use strict";var n="razdwatrzy";t.exports=function(){return"function"!=typeof n.contains?!1:n.contains("dwa")===!0&&n.contains("foo")===!1}},function(t,e){"use strict";var n=String.prototype.indexOf;t.exports=function(t){return n.call(this,t,arguments[1])>-1}},function(t,e){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e,n){"undefined"==typeof Map&&(Map=function(){this.clear()},Map.prototype={set:function(t,e){return this._[t]=e,this},get:function(t){return this._[t]},has:function(t){return t in this._},"delete":function(t){return t in this._&&delete this._[t]},clear:function(){this._=Object.create(null)},get size(){var t=0;for(var e in this._)++t;return t},forEach:function(t){for(var e in this._)t(this._[e],e,this)}}),function(t,n){n(e)}(this,function(t){"use strict";function e(t,e){return function(n){return t.parse(n.responseText,e)}}function n(t){return function(e,n){t(null==e?n:null)}}function r(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function o(t){function e(t){var e=(t+="").indexOf("."),n=t;if(e>=0?t=t.slice(0,e):n+=".",t&&!a.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}function n(t){return function(){for(var e,n,r=a[t],o=-1,i=r.length;++o<i;)(n=(e=r[o]).value)&&n.apply(this,arguments);return c}}var r,o=-1,i=t.length,a={},s={},c=this;for(c.on=function(t,n){if(t=e(t),arguments.length<2)return(n=s[t.name])&&n.value;if(t.type){var r,o=a[t.type],i=s[t.name];i&&(i.value=null,r=o.indexOf(i),a[t.type]=o=o.slice(0,r).concat(o.slice(r+1)),delete s[t.name]),n&&(n={value:n},s[t.name]=n,o.push(n))}else if(null==n)for(var u in a)if(n=s[u+t.name]){n.value=null;var o=a[u],r=o.indexOf(n);a[u]=o.slice(0,r).concat(o.slice(r+1)),delete s[n.name]}return c};++o<i;){if(r=t[o]+"",!r||r in c)throw new Error("illegal or duplicate type: "+r);a[r]=[],c[r]=n(r)}}function i(){return new o(arguments)}var a=function(t){function e(t,e){var r;return n(t,function(t,n){if(r)return r(t,n-1);var o=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(o(t),n)}:o})}function n(t,e){function n(){if(l>=u)return a;if(o)return o=!1,i;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}l=n+2;var r=t.charCodeAt(n+1);return 13===r?(o=!0,10===t.charCodeAt(n+2)&&++l):10===r&&(o=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>l;){var r=t.charCodeAt(l++),s=1;if(10===r)o=!0;else if(13===r)o=!0,10===t.charCodeAt(l)&&(++l,++s);else if(r!==c)continue;return t.slice(e,l-s)}return t.slice(e)}for(var r,o,i={},a={},s=[],u=t.length,l=0,f=0;(r=n())!==a;){for(var p=[];r!==i&&r!==a;)p.push(r),r=n();e&&null==(p=e(p,f++))||s.push(p)}return s}function r(e){if(Array.isArray(e[0]))return o(e);var n=Object.create(null),r=[];return e.forEach(function(t){for(var e in t)(e+="")in n||r.push(n[e]=e)}),[r.map(a).join(t)].concat(e.map(function(e){return r.map(function(t){return a(e[t])}).join(t)})).join("\n")}function o(t){return t.map(i).join("\n")}function i(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),c=t.charCodeAt(0);return{parse:e,parseRows:n,format:r,formatRows:o}},s=a("	");i.prototype=o.prototype;var c=function(t,e){function o(){var t,e=p.status;if(!e&&r(p)||e>=200&&300>e||304===e){if(c)try{t=c.call(a,p)}catch(n){return void l.error.call(a,n)}else t=p;l.load.call(a,t)}else l.error.call(a,p)}var a,s,c,u,l=i("beforesend","progress","load","error"),f=new Map,p=new XMLHttpRequest;return"undefined"==typeof XDomainRequest||"withCredentials"in p||!/^(http(s)?:)?\/\//.test(t)||(p=new XDomainRequest),"onload"in p?p.onload=p.onerror=o:p.onreadystatechange=function(){p.readyState>3&&o()},p.onprogress=function(t){l.progress.call(a,t)},a={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?f.get(t):(null==e?f["delete"](t):f.set(t,e+""),a)},mimeType:function(t){return arguments.length?(s=null==t?null:t+"",a):s},responseType:function(t){return arguments.length?(u=t,a):u},response:function(t){return c=t,a},get:function(t,e){return a.send("GET",t,e)},post:function(t,e){return a.send("POST",t,e)},send:function(e,r,o){return o||"function"!=typeof r||(o=r,r=null),o&&1===o.length&&(o=n(o)),p.open(e,t,!0),null==s||f.has("accept")||f.set("accept",s+",*/*"),p.setRequestHeader&&f.forEach(function(t,e){p.setRequestHeader(e,t)}),null!=s&&p.overrideMimeType&&p.overrideMimeType(s),null!=u&&(p.responseType=u),o&&a.on("error",o).on("load",function(t){o(null,t)}),l.beforesend.call(a,p),p.send(null==r?null:r),a},abort:function(){return p.abort(),a},on:function(){var t=l.on.apply(l,arguments);return t===l?a:t}},e?a.get(e):a},u=function(t,n){return function(r,o,i){arguments.length<3&&(i=o,o=null);var a=c(r).mimeType(t);return a.row=function(t){return arguments.length?a.response(e(n,o=t)):o},a.row(o),i?a.get(i):a}},l=u("text/tab-separated-values",s),f=a(","),p=u("text/csv",f),h=function(t,e){return function(n,r){var o=c(n).mimeType(t).response(e);return r?o.get(r):o}},d=h("application/xml",function(t){return t.responseXML}),v=h("text/plain",function(t){return t.responseText}),g=h("application/json",function(t){return JSON.parse(t.responseText)}),m=h("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)});t.xhr=c,t.html=m,t.json=g,t.text=v,t.xml=d,t.csv=p,t.tsv=l})},function(t,e){t.exports=function(t,e,n,r,o){var i,a;if(void 0===r)r=0;else if(r=0|r,0>r||r>=t.length)throw new RangeError("invalid lower bound");if(void 0===o)o=t.length-1;else if(o=0|o,r>o||o>=t.length)throw new RangeError("invalid upper bound");for(;o>=r;)if(i=r+(o-r>>1),a=+n(t[i],e),0>a)r=i+1;else{if(!(a>0))return i;o=i-1}return~r}},function(t,e,n){"use strict";function r(t,e,n){var r=!1,i=!1,a="",s="";e.indexOf("+")>-1&&(r=!0,e=e.replace(/\+/g,"")),a=t.toString().split(".")[0];var c=e.split(".")[1],u=e.indexOf(",");return c?(c.indexOf("[")>-1?(c=c.replace("]",""),c=c.split("["),s=o(t,c[0].length+c[1].length,n.roundingFunction,c[1].length)):s=o(t,c.length,n.roundingFunction),a=s.split(".")[0],s=s.split(".")[1].length?n.decimalDelimeter+s.split(".")[1]:""):a=o(t,null,n.roundingFunction),a.indexOf("-")>-1&&(a=a.slice(1),i=!0),u>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+n.thousandsDelimeter)),0===e.indexOf(".")&&(a=""),(i?"-":"")+(!i&&r?"+":"")+a+s}function o(t,e,n,r){var o,i,a=Math.pow(10,e);return i=(n(t*a)/a).toFixed(e),r&&(o=new RegExp("0{1,"+r+"}$"),i=i.replace(o,"")),i}var i=n(25),a={thousandsDelimeter:"",decimalDelimeter:".",roundingFunction:Math.round};t.exports=function(t,e,n){return r(t,e,i(!0,a,n))}},function(t,e,n){(function(t){!function(e){function n(t,e){if("object"!==o(t))return e;for(var r in e)"object"===o(t[r])&&"object"===o(e[r])?t[r]=n(t[r],e[r]):t[r]=e[r];return t}function r(t,e,r){var a=r[0],s=r.length;(t||"object"!==o(a))&&(a={});for(var c=0;s>c;++c){var u=r[c],l=o(u);if("object"===l)for(var f in u){var p=t?i.clone(u[f]):u[f];e?a[f]=n(a[f],p):a[f]=p}}return a}function o(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}var i=function(t){return r(t===!0,!1,arguments)},a="merge";i.recursive=function(t){return r(t===!0,!0,arguments)},i.clone=function(t){var e,n,r=t,a=o(t);if("array"===a)for(r=[],n=t.length,e=0;n>e;++e)r[e]=i.clone(t[e]);else if("object"===a){r={};for(e in t)r[e]=i.clone(t[e])}return r},e?t.exports=i:window[a]=i}("object"==typeof t&&t&&"object"==typeof t.exports&&t.exports)}).call(e,n(26)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8">\n  <path d="M0 0v6h2v-6h-2zm4 0v6h2v-6h-2z" transform="translate(1 1)" />\n</svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8">\n  <path d="M0 0v6h2v-6h-2zm2 3l5 3v-6l-5 3z" transform="translate(0 1)" />\n</svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8">\n  <path d="M4 0l-4 3 4 3v-6zm0 3l4 3v-6l-4 3z" transform="translate(0 1)" />\n</svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8">\n  <path d="M0 0v6l4-3-4-3zm4 3v3l4-3-4-3v3z" transform="translate(0 1)" />\n</svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8">\n  <path d="M0 0v6l5-3-5-3zm5 3v3h2v-6h-2v3z" transform="translate(0 1)" />\n</svg>'}]);
//# sourceMappingURL=index.js.map